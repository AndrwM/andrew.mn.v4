import { useEffect, useState, useMemo } from 'react';
import classnames from 'classnames';

const HighlightModeToggle = (props) => {
  const [hasHover, setHasHover] = useState(false);
  const [highlightMode, setHighlightMode] = useState(false);

  useEffect(() => {
    const documentClassList = document.documentElement.classList
    documentClassList.add('u-highlight-parent')
  }, []);

  useEffect(() => {
    const documentClassList = document.documentElement.classList
    highlightMode
    ? documentClassList.add('u-highlight-parent--active')
    : documentClassList.remove("u-highlight-parent--active");
  }, [highlightMode]);

  const cssClassNames = classnames(
    'c-toggle-button',
    { 'c-toggle-button--active': highlightMode },
  );

  const buttonContent = useMemo(() => {
    // if (highlightMode && hasHover) {
    //   return <>
    //     <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M9.43779 -3.39423e-09H0.99998C0.63179 -3.39423e-09 0.333313 0.298477 0.333313 0.666667V15.3333C0.333313 15.7015 0.63179 16 0.99998 16H13C13.3682 16 13.6666 15.7015 13.6666 15.3333V4.66667C13.6666 4.50339 13.6067 4.34579 13.4983 4.22376L9.9427 0.223757C9.83121 0.0983314 9.67714 0.0201967 9.5118 0.00340988C9.48727 0.000908839 9.46256 -0.000237156 9.43779 -3.39423e-09ZM8.77765 1.33333V4.66666C8.77765 5.03485 9.07613 5.33333 9.44431 5.33333H12.3333V14.6667H1.66665V1.33333H8.77765Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 6C2.99998 5.63181 3.29846 5.33333 3.66665 5.33333H6.99998C7.36817 5.33333 7.66665 5.63181 7.66665 6C7.66665 6.36819 7.36817 6.66667 6.99998 6.66667H3.66665C3.29846 6.66667 2.99998 6.36819 2.99998 6Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 8.66667C2.99998 8.29848 3.29846 8 3.66665 8H10.3333C10.7015 8 11 8.29848 11 8.66667C11 9.03486 10.7015 9.33333 10.3333 9.33333H3.66665C3.29846 9.33333 2.99998 9.03486 2.99998 8.66667Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 11.3333C2.99998 10.9651 3.29846 10.6667 3.66665 10.6667H10.3333C10.7015 10.6667 11 10.9651 11 11.3333C11 11.7015 10.7015 12 10.3333 12H3.66665C3.29846 12 2.99998 11.7015 2.99998 11.3333Z" fill="#202327"/>
    //     </svg>
    //     Expound
    //   </>;
    // } else if (!highlightMode && hasHover) {
    //   return <>
    //     <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M9.43779 -3.39423e-09H0.99998C0.63179 -3.39423e-09 0.333313 0.298477 0.333313 0.666667V15.3333C0.333313 15.7015 0.63179 16 0.99998 16H13C13.3682 16 13.6666 15.7015 13.6666 15.3333V4.66667C13.6666 4.50339 13.6067 4.34579 13.4983 4.22376L9.9427 0.223757C9.83121 0.0983314 9.67714 0.0201967 9.5118 0.00340988C9.48727 0.000908839 9.46256 -0.000237156 9.43779 -3.39423e-09ZM8.77765 1.33333V4.66666C8.77765 5.03485 9.07613 5.33333 9.44431 5.33333H12.3333V14.6667H1.66665V1.33333H8.77765Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 6C2.99998 5.63181 3.29846 5.33333 3.66665 5.33333H6.99998C7.36817 5.33333 7.66665 5.63181 7.66665 6C7.66665 6.36819 7.36817 6.66667 6.99998 6.66667H3.66665C3.29846 6.66667 2.99998 6.36819 2.99998 6Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 8.66667C2.99998 8.29848 3.29846 8 3.66665 8H10.3333C10.7015 8 11 8.29848 11 8.66667C11 9.03486 10.7015 9.33333 10.3333 9.33333H3.66665C3.29846 9.33333 2.99998 9.03486 2.99998 8.66667Z" fill="#202327"/>
    //       <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 11.3333C2.99998 10.9651 3.29846 10.6667 3.66665 10.6667H10.3333C10.7015 10.6667 11 10.9651 11 11.3333C11 11.7015 10.7015 12 10.3333 12H3.66665C3.29846 12 2.99998 11.7015 2.99998 11.3333Z" fill="#202327"/>
    //     </svg>
    //     Summarize
    //   </>;
    // } else
    if (!highlightMode) {
      return <>
        <svg width="24" height="24" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M9.43779 -3.39423e-09H0.99998C0.63179 -3.39423e-09 0.333313 0.298477 0.333313 0.666667V15.3333C0.333313 15.7015 0.63179 16 0.99998 16H13C13.3682 16 13.6666 15.7015 13.6666 15.3333V4.66667C13.6666 4.50339 13.6067 4.34579 13.4983 4.22376L9.9427 0.223757C9.83121 0.0983314 9.67714 0.0201967 9.5118 0.00340988C9.48727 0.000908839 9.46256 -0.000237156 9.43779 -3.39423e-09ZM8.77765 1.33333V4.66666C8.77765 5.03485 9.07613 5.33333 9.44431 5.33333H12.3333V14.6667H1.66665V1.33333H8.77765Z" fill="#202327"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 6C2.99998 5.63181 3.29846 5.33333 3.66665 5.33333H6.99998C7.36817 5.33333 7.66665 5.63181 7.66665 6C7.66665 6.36819 7.36817 6.66667 6.99998 6.66667H3.66665C3.29846 6.66667 2.99998 6.36819 2.99998 6Z" fill="#202327"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 8.66667C2.99998 8.29848 3.29846 8 3.66665 8H10.3333C10.7015 8 11 8.29848 11 8.66667C11 9.03486 10.7015 9.33333 10.3333 9.33333H3.66665C3.29846 9.33333 2.99998 9.03486 2.99998 8.66667Z" fill="#202327"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M2.99998 11.3333C2.99998 10.9651 3.29846 10.6667 3.66665 10.6667H10.3333C10.7015 10.6667 11 10.9651 11 11.3333C11 11.7015 10.7015 12 10.3333 12H3.66665C3.29846 12 2.99998 11.7015 2.99998 11.3333Z" fill="#202327"/>
        </svg>
        Highlight
      </>;
    } else if (highlightMode) {
      return <>
        <svg width="24" height="24" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_3_3742)">
            <path d="M16.1178 7.66665C16.0511 7.54665 15.0511 5.83998 13.3578 4.45332L15.3444 2.46665C15.6044 2.20665 15.6044 1.78665 15.3444 1.52665C15.0844 1.26665 14.6644 1.26665 14.4044 1.52665L12.2578 3.67332C11.2778 3.08665 10.1444 2.66665 8.87109 2.66665C4.53109 2.66665 1.74442 7.46665 1.62442 7.66665C1.50442 7.87332 1.50442 8.11998 1.62442 8.32665C1.69109 8.44665 2.69109 10.1533 4.38442 11.54L2.39776 13.5267C2.13776 13.7866 2.13776 14.2066 2.39776 14.4667C2.53109 14.6 2.69776 14.6666 2.87109 14.6666C3.04442 14.6666 3.21109 14.6 3.34442 14.4733L5.49109 12.3266C6.46442 12.9133 7.59776 13.3333 8.87109 13.3333C13.2111 13.3333 15.9978 8.53332 16.1178 8.33332C16.2311 8.12665 16.2311 7.87332 16.1178 7.66665ZM2.99109 7.99998C3.66442 6.98665 5.89109 3.99998 8.87109 3.99998C9.74442 3.99998 10.5511 4.25998 11.2778 4.65332L10.2178 5.71332C9.81776 5.47998 9.36442 5.33332 8.87109 5.33332C7.39776 5.33332 6.20442 6.52665 6.20442 7.99998C6.20442 8.49332 6.35109 8.94665 6.58442 9.34665L5.33776 10.5933C4.18442 9.67332 3.35776 8.54665 2.99109 7.99998ZM10.2044 7.99998C10.2044 8.73332 9.60442 9.33332 8.87109 9.33332C8.75109 9.33332 8.63776 9.31332 8.53109 9.28665L10.1578 7.65998C10.1844 7.76665 10.2044 7.87998 10.2044 7.99998ZM7.53776 7.99998C7.53776 7.26665 8.13776 6.66665 8.87109 6.66665C8.99109 6.66665 9.10442 6.68665 9.21109 6.71332L7.58442 8.33998C7.55776 8.23332 7.53776 8.11998 7.53776 7.99998ZM8.87109 12C7.99776 12 7.19109 11.74 6.46442 11.3466L7.52442 10.2866C7.92442 10.52 8.37776 10.6666 8.87109 10.6666C10.3444 10.6666 11.5378 9.47332 11.5378 7.99998C11.5378 7.50665 11.3911 7.05332 11.1578 6.65332L12.4044 5.40665C13.5578 6.32665 14.3844 7.45332 14.7444 7.99998C14.0778 9.01332 11.8511 12 8.87109 12Z" fill="#202327"/>
          </g>
          <defs>
            <clipPath id="clip0_3_3742">
            <rect width="16" height="16" fill="white" transform="translate(0.871094)"/>
            </clipPath>
          </defs>
        </svg>
        Un-highlight
      </>;
    } else {
      return ''; // no-op
    }
  }, [hasHover, highlightMode]);

  return (
    <button
      {...props}
      onMouseOver={() => setHasHover(true)}
      onMouseLeave={() => setHasHover(false)}
      onClick={() => setHighlightMode(!highlightMode)}
      className={cssClassNames}
      children={buttonContent}
    />
  )
};

export default HighlightModeToggle;
